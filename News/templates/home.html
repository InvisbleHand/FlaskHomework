{% extends "layout.html" %} {% block title %}首页 - 新闻网站{% endblock %} {%
block content %}
<div class="row mb-4">
  <div class="col-12">
    <h1 class="display-4 text-center">最新新闻</h1>
    <p class="text-muted text-center">关注最新动态，了解时事热点</p>
  </div>
</div>

{% if news_list %}
<div class="row">
  {% for news in news_list %}
  <div class="col-lg-6 col-xl-4">
    <div class="card news-card h-100">
      {% if news.cover_image %}
      <img
        src="{{ url_for('static', filename=news.cover_image) }}"
        class="card-img-top cover-image"
        alt="{{ news.title }}"
        onerror="this.style.display='none'"
      />
      {% else %}
      <div
        class="card-img-top cover-image bg-light d-flex align-items-center justify-content-center"
      >
        <i class="bi bi-image text-muted" style="font-size: 3rem"></i>
      </div>
      {% endif %}

      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ news.title }}</h5>
        <p class="card-text flex-grow-1">
          {{ news.content[:100] }}{% if news.content|length > 100 %}...{% endif
          %}
        </p>
        <div class="mt-auto">
          <small class="text-muted">
            <i class="bi bi-calendar"></i>
            {{ news.created_date.strftime('%Y年%m月%d日 %H:%M') }}
          </small>
          <a
            href="{{ url_for('article', news_id=news.id) }}"
            class="btn btn-primary btn-sm float-end"
          >
            阅读全文 <i class="bi bi-arrow-right"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% endif %} {% endblock %}
